#!/usr/bin/env bash

DEST=./build/static
MAKE_DIR="mkdir -p $DEST/css && mkdir $DEST/scripts"
MAKE_HTML="cp -a ./public/index.html $DEST/"
MAKE_JS="terser ./public/scripts/zen.js -o $DEST/scripts/zen.js -c -m"
MAKE_CSS="node-sass --include-path ./sass ./sass/index.sass $DEST/css/zen.css --output-style compressed"

echo -n "Making directories... "
$MAKE_DIR
echo "done"

echo -n "Copying HTML... "
$MAKE_HTML
echo "done"

echo -n "Minifies JavaScript... "
$MAKE_JS
echo "done"

echo "Constructing CSS... "
$MAKE_CSS

echo "Done build to $DEST"